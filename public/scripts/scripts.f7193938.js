"use strict";angular.module("contactsMgr",["ngRoute","ngSanitize","mgcrea.ngStrap","ngResource"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{controller:"indexCtrl",templateUrl:"/views/index.html"}).when("/add-contact",{controller:"addCtrl",templateUrl:"/views/add.html"}).when("/contact/:id",{controller:"contactCtrl",templateUrl:"/views/contact.html"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]).filter("truncate",function(){return function(a,b){return a.length>b?a.substr(0,b)+"â€¦":a}}).factory("contacts",["$resource",function(a){var b=a("api/contacts/:id.json",{id:"@id"},{update:{method:"PUT"}});return{get:function(a,c){return b.query()},find:function(a,c,d){return console.log("gettin er"),b.get({id:a},c,d)},create:function(){return new b},destroy:function(a,c,d){b["delete"]({id:a})}}}]).directive("editable",function(){return{restrict:"AE",templateUrl:"/views/editable.html",scope:{value:"=editable",field:"@fieldType"},controller:["$scope",function(a){a.field=a.field?a.field:"text",a.editor={showing:!1,value:a.value},a.toggleEditor=function(){a.editor.showing=!a.editor.showing,a.editor.value=a.value},a.save=function(){a.value=a.editor.value,a.toggleEditor()}}]}}).filter("paragraph",function(){return function(a){return null==a?void 0:a.replace(/\n/g,"<br />")}}).controller("indexCtrl",["$scope","contacts","$alert",function(a,b,c){a.contacts=b.get(),a.modal={title:"Hello"};var d=c({title:"Success!",content:"The contact was deleted successfully.",type:"success",container:"#alertContainer",show:!1});a["delete"]=function(a){b.destroy(a),d.show()}}]).controller("addCtrl",["$scope","contacts","$alert",function(a,b,c){var d=c({title:"Success!",content:"The contact was added successfully.",type:"success",container:"#alertContainer",show:!1});a.submit=function(){b.set(a.contact),a.contact=null,d.show()}}]).controller("contactCtrl",["$scope","$routeParams","contacts",function(a,b,c){a.contact=c.find(b.id)}]).controller("appCtrl",["$scope","$location",function(a,b){a.startSearch=function(){b.path("/")},a.pageClass=function(a){return a===b.path()?"active":""}}]),angular.module("contactMgr").run(["$templateCache",function(a){a.put("views/add.html",'<div class="page-header"> <h1>Add Contact</h1> </div> <div id="alertContainer"></div> <form class="form-horizontal" ng-submit="submit()"> <div class="row"> <div class="col-sm-6"> <div class="form-group"> <label for="name" class="col-sm-4 control-label">Name</label> <div class="col-sm-8"> <input type="text" id="name" class="form-control" ng-model="contact.name"> </div> </div> <div class="form-group"> <label for="phone" class="col-sm-4 control-label">Phone Number</label> <div class="col-sm-8"> <input type="tel" id="phone" class="form-control" ng-model="contact.phone"> </div> </div> <div class="form-group"> <label for="address" class="col-sm-4 control-label">Address</label> <div class="col-sm-8"> <textarea id="address" class="form-control" ng-model="contact.address"></textarea> </div> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label for="email" class="col-sm-4 control-label">Email Address</label> <div class="col-sm-8"> <input type="email" id="email" class="form-control" ng-model="contact.email"> </div> </div> <div class="form-group"> <label for="website" class="col-sm-4 control-label">Website</label> <div class="col-sm-8"> <input type="text" id="website" class="form-control" ng-model="contact.website"> </div> </div> <div class="form-group"> <label for="notes" class="col-sm-4 control-label">Notes</label> <div class="col-sm-8"> <textarea id="notes" class="form-control" ng-model="contact.notes" bs-tooltip data-title="Any additional information about the contact." data-trigger="&quot;focus" data-placement="bottom"></textarea> </div> </div> </div> </div> <div class="form-group well"> <div class="col-sm-offset-2 col-sm-10"> <input type="submit" class="btn btn-primary" value="Add Contact"> </div> </div> </form>'),a.put("views/contact.html",'<div class="page-header row">\n	<h1><gravatar email="{{contact.email}}" size="50" class="img-circle"></gravatar> {{contact.name}}</h1>\n</div>\n\n<div class="form-horizontal">\n\n	<div class="row">\n		<div class="col-xs-6">\n\n			<div class="form-group">\n				<label for="name" class="col-sm-4 control-label">Name</label>\n				<div class="col-sm-8">\n					<p class="form-control-static" editable="contact.name"></p>\n				</div>\n			</div>\n\n			<div class="form-group">\n				<label for="name" class="col-sm-4 control-label">Phone Number</label>\n				<div class="col-sm-8">\n					<p class="form-control-static" editable="contact.phone" field-type="tel"></p>\n				</div>\n			</div>\n\n			<div class="form-group">\n				<label for="name" class="col-sm-4 control-label">Address</label>\n				<div class="col-sm-8">\n					<p class="form-control-static" editable="contact.address | paragraph" field-type="textarea"}\n					</p>\n				</div>\n			</div>\n\n		</div>\n		<div class="col-xs-6">\n\n			<div class="form-group">\n				<label for="name" class="col-sm-4 control-label">Email Address</label>\n				<div class="col-sm-8">\n					<p class="form-control-static" editable="contact.email" field-type="email"></p>\n				</div>\n			</div>\n\n			<div class="form-group">\n				<label for="name" class="col-sm-4 control-label">Website</label>\n				<div class="col-sm-8">\n					<p class="form-control-static" editable="contact.website"></p>\n				</div>\n			</div>\n\n			<div class="form-group">\n				<label for="name" class="col-sm-4 control-label">Notes</label>\n				<div class="col-sm-8">\n					<p class="form-control-static" editable="contact.notes" field-type="textarea">\n					</p>\n				</div>\n			</div>\n\n		</div>\n	</div>\n\n</div>'),a.put("views/editable.html",'<div ng-hide="editor.showing"> <span ng-bind-html="value | paragraph"></span> <button class="btn btn-default btn-xs" ng-click="toggleEditor()">Edit</button> </div> <div ng-show="editor.showing"> <div ng-if="field == \'textarea\'"> <textarea ng-model="editor.value" class="form-control"></textarea> </div> <div ng-if="field != \'textarea\'"> <input type="{{field}}" ng-model="editor.value" class="form-control"> </div> <hr> <button class="btn btn-success btn-xs" ng-click="save()">Save</button> <button class="btn btn-default btn-xs" ng-click="toggleEditor()">Cancel</button> </div>'),a.put("views/groups.html",'<!-- app/views/groups.html --> <h1>Groups</h1> <ul ng-repeat="group in groups"> <li>{{group.name}}</li> </ul>'),a.put("views/index.html",'<div class="page-header"> <h1>All Contacts</h1> </div> <div id="alertContainer"></div> <div class="table-responsive"> <table class="table table-striped"> <thead> <tr> <th>Name</th> <th>Email Address</th> <th>Phone Number</th> <th>Actions</th> </tr> </thead> <tbody> <tr ng-repeat="contact in contacts | filter:search"> <td>{{contact.name}}</td> <td>{{contact.email}}</td> <td>{{contact.phone}}</td> <td><a href="/contact/{{contact.id}}" class="btn btn-default btn-xs">View</a></td> <td><button class="btn btn-danger btn-xs" ng-click="delete($index)">Delete</button></td> </tr> </tbody> </table> </div>')}]);